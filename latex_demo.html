<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaTeX 数学公式语法演示</title>
    <script src="https://cdn.jsdelivr.net/npm/marked@12.0.0/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f8fafc;
        }
        .container {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .demo-section {
            margin: 2rem 0;
            padding: 1.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background-color: #f8fafc;
        }
        .latex-code {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
            margin: 0.5rem 0;
            overflow-x: auto;
        }
        .result {
            background: white;
            padding: 1rem;
            border-radius: 6px;
            border: 1px solid #e2e8f0;
            margin: 0.5rem 0;
        }
        .markdown-content {
            background: white;
            padding: 1rem;
            border-radius: 6px;
            border: 1px solid #e2e8f0;
        }
        /* 数学公式样式 */
        .markdown-content mjx-container {
            display: inline-block;
            margin: 0.3em 0.1em;
            color: #2d3748 !important;
        }
        .markdown-content mjx-container[display="block"] {
            display: block;
            text-align: center;
            margin: 1.5em 0;
            overflow-x: auto;
            overflow-y: visible;
            padding: 0.8em 0;
            background-color: #f8fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        .markdown-content mjx-container:not([display="block"]) {
            vertical-align: baseline;
            background-color: #f7fafc;
            padding: 2px 4px;
            border-radius: 3px;
            border: 1px solid #e2e8f0;
        }
        h1 { color: #2d3748; border-bottom: 3px solid #4299e1; padding-bottom: 0.5rem; }
        h2 { color: #4299e1; margin-top: 2rem; }
        h3 { color: #38a169; }
        .highlight { background-color: #fef5e7; padding: 2px 4px; border-radius: 3px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🧮 LaTeX 数学公式语法完整演示</h1>
        <p>本页面展示了在我们的聊天机器人中支持的各种 LaTeX 数学公式语法。所有这些公式都可以在聊天对话中使用。</p>

        <div class="demo-section">
            <h2>📝 基础语法</h2>
            
            <h3>行内公式 (Inline Math)</h3>
            <div class="latex-code">行内公式使用单个美元符号：$E = mc^2$</div>
            <div class="result markdown-content">行内公式使用单个美元符号：$E = mc^2$</div>
            
            <div class="latex-code">或者使用 LaTeX 括号：\\(E = mc^2\\)</div>
            <div class="result markdown-content">或者使用 LaTeX 括号：\(E = mc^2\)</div>

            <h3>块级公式 (Display Math)</h3>
            <div class="latex-code">$$E = mc^2$$</div>
            <div class="result markdown-content">$$E = mc^2$$</div>
            
            <div class="latex-code">\\[E = mc^2\\]</div>
            <div class="result markdown-content">\[E = mc^2\]</div>
        </div>

        <div class="demo-section">
            <h2>🔢 分数和根号</h2>
            
            <h3>分数 (Fractions)</h3>
            <div class="latex-code">简单分数：$\\frac{a}{b}$</div>
            <div class="result markdown-content">简单分数：$\frac{a}{b}$</div>
            
            <div class="latex-code">复杂分数：$$\\frac{\\frac{a}{b}}{\\frac{c}{d}} = \\frac{ad}{bc}$$</div>
            <div class="result markdown-content">复杂分数：$$\frac{\frac{a}{b}}{\frac{c}{d}} = \frac{ad}{bc}$$</div>

            <h3>根号 (Roots)</h3>
            <div class="latex-code">平方根：$\\sqrt{x}$，立方根：$\\sqrt[3]{x}$</div>
            <div class="result markdown-content">平方根：$\sqrt{x}$，立方根：$\sqrt[3]{x}$</div>
            
            <div class="latex-code">复杂根号：$$\\sqrt{x^2 + y^2 + z^2}$$</div>
            <div class="result markdown-content">复杂根号：$$\sqrt{x^2 + y^2 + z^2}$$</div>
        </div>

        <div class="demo-section">
            <h2>📊 上标和下标</h2>
            
            <div class="latex-code">上标：$x^2$，下标：$x_1$，组合：$x_1^2$</div>
            <div class="result markdown-content">上标：$x^2$，下标：$x_1$，组合：$x_1^2$</div>
            
            <div class="latex-code">复杂指数：$$e^{i\\pi} + 1 = 0$$</div>
            <div class="result markdown-content">复杂指数：$$e^{i\pi} + 1 = 0$$</div>
        </div>

        <div class="demo-section">
            <h2>∑ 求和、积分和极限</h2>
            
            <h3>求和 (Summation)</h3>
            <div class="latex-code">$$\\sum_{i=1}^{n} i = \\frac{n(n+1)}{2}$$</div>
            <div class="result markdown-content">$$\sum_{i=1}^{n} i = \frac{n(n+1)}{2}$$</div>
            
            <div class="latex-code">$$\\sum_{i=0}^{\\infty} \\frac{x^i}{i!} = e^x$$</div>
            <div class="result markdown-content">$$\sum_{i=0}^{\infty} \frac{x^i}{i!} = e^x$$</div>

            <h3>积分 (Integration)</h3>
            <div class="latex-code">$$\\int_0^1 x^2 dx = \\frac{1}{3}$$</div>
            <div class="result markdown-content">$$\int_0^1 x^2 dx = \frac{1}{3}$$</div>
            
            <div class="latex-code">$$\\int_{-\\infty}^{\\infty} e^{-x^2} dx = \\sqrt{\\pi}$$</div>
            <div class="result markdown-content">$$\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}$$</div>

            <h3>极限 (Limits)</h3>
            <div class="latex-code">$$\\lim_{x \\to 0} \\frac{\\sin x}{x} = 1$$</div>
            <div class="result markdown-content">$$\lim_{x \to 0} \frac{\sin x}{x} = 1$$</div>
            
            <div class="latex-code">$$\\lim_{n \\to \\infty} \\left(1 + \\frac{1}{n}\\right)^n = e$$</div>
            <div class="result markdown-content">$$\lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^n = e$$</div>
        </div>

        <div class="demo-section">
            <h2>🔤 希腊字母</h2>
            
            <h3>小写希腊字母</h3>
            <div class="latex-code">$\\alpha, \\beta, \\gamma, \\delta, \\epsilon, \\zeta, \\eta, \\theta$</div>
            <div class="result markdown-content">$\alpha, \beta, \gamma, \delta, \epsilon, \zeta, \eta, \theta$</div>
            
            <div class="latex-code">$\\iota, \\kappa, \\lambda, \\mu, \\nu, \\xi, \\pi, \\rho$</div>
            <div class="result markdown-content">$\iota, \kappa, \lambda, \mu, \nu, \xi, \pi, \rho$</div>
            
            <div class="latex-code">$\\sigma, \\tau, \\upsilon, \\phi, \\chi, \\psi, \\omega$</div>
            <div class="result markdown-content">$\sigma, \tau, \upsilon, \phi, \chi, \psi, \omega$</div>

            <h3>大写希腊字母</h3>
            <div class="latex-code">$\\Gamma, \\Delta, \\Theta, \\Lambda, \\Xi, \\Pi, \\Sigma$</div>
            <div class="result markdown-content">$\Gamma, \Delta, \Theta, \Lambda, \Xi, \Pi, \Sigma$</div>
            
            <div class="latex-code">$\\Upsilon, \\Phi, \\Psi, \\Omega$</div>
            <div class="result markdown-content">$\Upsilon, \Phi, \Psi, \Omega$</div>
        </div>

        <div class="demo-section">
            <h2>🔗 矩阵和方程组</h2>
            
            <h3>矩阵 (Matrices)</h3>
            <div class="latex-code">$$\\begin{pmatrix}
a & b \\\\
c & d
\\end{pmatrix}$$</div>
            <div class="result markdown-content">$$\begin{pmatrix}
a & b \\
c & d
\end{pmatrix}$$</div>
            
            <div class="latex-code">$$\\begin{bmatrix}
1 & 2 & 3 \\\\
4 & 5 & 6 \\\\
7 & 8 & 9
\\end{bmatrix}$$</div>
            <div class="result markdown-content">$$\begin{bmatrix}
1 & 2 & 3 \\
4 & 5 & 6 \\
7 & 8 & 9
\end{bmatrix}$$</div>

            <h3>方程组 (Systems of Equations)</h3>
            <div class="latex-code">$$\\begin{cases}
x + y = 1 \\\\
x - y = 0
\\end{cases}$$</div>
            <div class="result markdown-content">$$\begin{cases}
x + y = 1 \\
x - y = 0
\end{cases}$$</div>
        </div>

        <div class="demo-section">
            <h2>🎯 特殊符号和函数</h2>
            
            <h3>数学符号</h3>
            <div class="latex-code">$\\forall, \\exists, \\in, \\notin, \\subset, \\supset, \\subseteq, \\supseteq$</div>
            <div class="result markdown-content">$\forall, \exists, \in, \notin, \subset, \supset, \subseteq, \supseteq$</div>
            
            <div class="latex-code">$\\cup, \\cap, \\emptyset, \\infty, \\partial, \\nabla$</div>
            <div class="result markdown-content">$\cup, \cap, \emptyset, \infty, \partial, \nabla$</div>

            <h3>三角函数</h3>
            <div class="latex-code">$\\sin x, \\cos x, \\tan x, \\cot x, \\sec x, \\csc x$</div>
            <div class="result markdown-content">$\sin x, \cos x, \tan x, \cot x, \sec x, \csc x$</div>

            <h3>对数函数</h3>
            <div class="latex-code">$\\log x, \\ln x, \\log_2 x, \\lg x$</div>
            <div class="result markdown-content">$\log x, \ln x, \log_2 x, \lg x$</div>

            <h3>数集符号（使用我们的宏）</h3>
            <div class="latex-code">$\\RR, \\CC, \\NN, \\ZZ, \\QQ$</div>
            <div class="result markdown-content">$\RR, \CC, \NN, \ZZ, \QQ$</div>
        </div>

        <div class="demo-section">
            <h2>📐 几何和向量</h2>
            
            <h3>向量</h3>
            <div class="latex-code">$\\vec{a}, \\vec{AB}, \\overrightarrow{AB}$</div>
            <div class="result markdown-content">$\vec{a}, \vec{AB}, \overrightarrow{AB}$</div>
            
            <div class="latex-code">使用宏：$\\vec{v} = (x, y, z)$，模长：$\\norm{\\vec{v}}$</div>
            <div class="result markdown-content">使用宏：$\vec{v} = (x, y, z)$，模长：$\norm{\vec{v}}$</div>

            <h3>角度</h3>
            <div class="latex-code">$\\angle ABC = 90°, \\measuredangle ABC$</div>
            <div class="result markdown-content">$\angle ABC = 90°, \measuredangle ABC$</div>
        </div>

        <div class="demo-section">
            <h2>🎨 高级功能</h2>
            
            <h3>颜色 (需要color包支持)</h3>
            <div class="latex-code">$\\color{red}{红色文字} + \\color{blue}{蓝色文字} = \\color{purple}{紫色结果}$</div>
            <div class="result markdown-content">$\color{red}{红色文字} + \color{blue}{蓝色文字} = \color{purple}{紫色结果}$</div>

            <h3>取消线 (需要cancel包支持)</h3>
            <div class="latex-code">$$\\frac{\\cancel{x} \\cdot y}{\\cancel{x}} = y$$</div>
            <div class="result markdown-content">$$\frac{\cancel{x} \cdot y}{\cancel{x}} = y$$</div>

            <h3>多行公式</h3>
            <div class="latex-code">$$\\begin{align}
f(x) &= x^2 + 2x + 1 \\\\
&= (x + 1)^2
\\end{align}$$</div>
            <div class="result markdown-content">$$\begin{align}
f(x) &= x^2 + 2x + 1 \\
&= (x + 1)^2
\end{align}$$</div>
        </div>

        <div class="demo-section">
            <h2>💡 使用提示</h2>
            <div class="highlight">
                <h3>在聊天机器人中使用LaTeX的要点：</h3>
                <ul>
                    <li><strong>行内公式</strong>：使用 <code>$公式$</code> 或 <code>\\(公式\\)</code></li>
                    <li><strong>块级公式</strong>：使用 <code>$$公式$$</code> 或 <code>\\[公式\\]</code></li>
                    <li><strong>转义字符</strong>：在Markdown中，反斜杠需要双写，如 <code>\\\\</code></li>
                    <li><strong>矩阵换行</strong>：使用 <code>\\\\</code> 进行换行</li>
                    <li><strong>特殊字符</strong>：大括号需要转义 <code>\\{\\}</code></li>
                    <li><strong>预定义宏</strong>：可以使用 <code>\\RR, \\CC, \\NN, \\ZZ, \\QQ</code> 等数集符号</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // 配置MathJax - 与主应用相同的配置
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                packages: {'[+]': ['ams', 'newcommand', 'autoload', 'color', 'physics', 'cancel', 'mathtools']},
                processEscapes: true,
                processEnvironments: true,
                tags: 'ams',
                processRefs: true,
                macros: {
                    RR: "{\\mathbb{R}}",
                    CC: "{\\mathbb{C}}",
                    NN: "{\\mathbb{N}}",
                    ZZ: "{\\mathbb{Z}}",
                    QQ: "{\\mathbb{Q}}",
                    vec: ["\\mathbf{#1}", 1],
                    norm: ["\\left\\|#1\\right\\|", 1],
                    abs: ["\\left|#1\\right|", 1],
                    floor: ["\\left\\lfloor#1\\right\\rfloor", 1],
                    ceil: ["\\left\\lceil#1\\right\\rceil", 1]
                }
            },
            svg: {
                fontCache: 'global',
                scale: 1.2,
                minScale: 0.9,
                mtextInheritFont: true,
                displayAlign: 'center',
                displayIndent: '0'
            },
            options: {
                processHtmlClass: 'markdown-content',
                ignoreHtmlClass: 'tex2jax_ignore',
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            },
            startup: {
                pageReady: () => {
                    console.log('MathJax页面准备就绪');
                    return MathJax.startup.defaultPageReady().then(() => {
                        console.log('MathJax初始化完成');
                        // 渲染所有数学公式
                        const mathElements = document.querySelectorAll('.markdown-content');
                        if (mathElements.length > 0) {
                            MathJax.typesetPromise(Array.from(mathElements)).then(() => {
                                console.log('所有数学公式渲染完成');
                            }).catch(err => {
                                console.error('数学公式渲染失败:', err);
                            });
                        }
                    });
                }
            }
        };
    </script>
</body>
</html> 